<button class="btn btn-sm btn-outline-dark my-3" [routerLink]="''">
  Back <i class="fas fa-undo mx-1"></i>
</button>

<ng-container *ngIf="ticket">
  
  <div class="card fade-in">
    <div class="card-header bg-dark text-white">
      <span class="card-title m-0 h3">
        Ticket No: {{ticket.id}}
      </span>
      <span class="float-right">
        <ng-container *ngIf="ticket.status == 1; else closed">
          <button class="btn btn-danger" (click)="toggleStatus()">Close Ticket <i class="fas fa-exclamation-triangle mx-1"></i></button>
        </ng-container>
        <ng-template #closed>
          <button class="btn btn-info" (click)="toggleStatus()">Re-open Ticket</button>
        </ng-template>
      </span>
    </div>
    <div class="card-body p-3">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12 col-md-9">
            <app-priority [priority]="ticket.priority" class="d-block my-2"></app-priority>
            <p><b>{{ticket.subject}}</b></p>
            <p>{{ticket.description}}</p>
          </div>
          <div class="col-12 col-md-3 text-right">
            <app-client [clientId]="ticket.clientId"></app-client>
             <hr />
            <p>Originator: <b>{{ticket.originator}}</b></p>
          </div>
        </div>
      </div>


      <ng-container *ngIf="ticket.notes">
        <hr />
        <div class="container-fluid">
          <div class="row">
            <div class="col-12">
              <h3>Notes</h3>
              <div *ngFor="let note of ticket.notes">
                <p class="m-0"><b><em><i class="fas fa-comment mr-1"></i> {{note.commentor}}</em></b></p>
                <p>{{note.description}}</p>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      

    </div>
  </div>
      
</ng-container>
